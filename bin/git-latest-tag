#!/bin/sh
#
# Get the latest git tag from repository
# Usage: git-latest-tag [repository]
#
# Source - https://stackoverflow.com/a/12704727
# Posted by Potherca, modified by community. See post 'Timeline' for change history
# Retrieved 2025-12-10, License - CC BY-SA 4.0

if [ $# -eq 0 ]; then
  # No argument, use current repo
  repo="."
else
  # Repository argument provided
  repo="$1"
fi

git -c 'versionsort.suffix=-' \
    ls-remote --exit-code --refs --sort='version:refname' --tags "$repo" '*.*.*' \
    | tail -1 \
    | cut -d'/' -f3

